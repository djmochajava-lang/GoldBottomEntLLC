<!-- pages/entertainment/events.html â€” Upcoming Events & Tour Dates -->

<section class="page-section" id="page-ent-events">
  <div class="container">
    <h1 class="page-title">Events & Tour Dates</h1>
    <p class="page-subtitle">Upcoming performances, appearances, and live shows from our roster.</p>

    <!-- Filter Tabs -->
    <div class="tabs event-filters">
      <button class="tab active" data-filter="all">All Events</button>
      <button class="tab" data-filter="upcoming">Upcoming</button>
      <button class="tab" data-filter="past">Past Events</button>
    </div>

    <!-- Events List -->
    <div id="ent-events-list" class="events-list">
      <!-- Rendered by script -->
    </div>

    <!-- CTA -->
    <div class="text-center" style="margin-top: var(--spacing-2xl);">
      <div class="glass-card cta-card">
        <h2>Want to Book Our Talent?</h2>
        <p class="text-muted">
          Interested in booking one of our artists for your venue, festival, or private event?
          Let's make it happen.
        </p>
        <a href="#ent-contact" class="btn btn-primary btn-lg">
          <i class="fa-solid fa-calendar-plus"></i> Request Booking
        </a>
      </div>
    </div>
  </div>
</section>

<script>
(function() {
  var list = document.getElementById('ent-events-list');
  if (!list) return;

  // Try to get events from DataStore if available
  var events = [];
  if (typeof DataStore !== 'undefined' && typeof DataStore.getEvents === 'function') {
    events = DataStore.getEvents().filter(function(e) {
      return e.status === 'confirmed' || e.status === 'completed';
    });
  }

  // If no events from DataStore, show placeholder data
  if (events.length === 0) {
    events = [
      {
        title: 'L.A. Young Live',
        venue: 'The Blue Note',
        location: 'Washington, DC',
        date: '2026-03-15',
        time: '8:00 PM',
        status: 'confirmed',
        description: 'An intimate evening of soul, jazz, and R&B.'
      },
      {
        title: 'GBE Showcase Night',
        venue: 'Pearl Street Warehouse',
        location: 'Washington, DC',
        date: '2026-04-20',
        time: '7:00 PM',
        status: 'confirmed',
        description: 'Gold Bottom Entertainment presents a showcase of our rising talent.'
      },
      {
        title: 'Summer Soul Festival',
        venue: 'Merriweather Post Pavilion',
        location: 'Columbia, MD',
        date: '2026-06-28',
        time: '3:00 PM',
        status: 'confirmed',
        description: 'Join us for a full day of live music, food, and community.'
      }
    ];
  }

  var months = ['Jan','Feb','Mar','Apr','May','Jun','Jul','Aug','Sep','Oct','Nov','Dec'];

  function getEventFilter(event) {
    var eventDate = new Date(event.date);
    var now = new Date();
    return eventDate >= now ? 'upcoming' : 'past';
  }

  function renderEvents(filter) {
    var filtered = events;
    if (filter === 'upcoming') {
      filtered = events.filter(function(e) { return getEventFilter(e) === 'upcoming'; });
    } else if (filter === 'past') {
      filtered = events.filter(function(e) { return getEventFilter(e) === 'past'; });
    }

    if (filtered.length === 0) {
      list.innerHTML = '<div class="empty-state"><div class="empty-state-icon"><i class="fa-solid fa-calendar-xmark"></i></div><h3 class="empty-state-title">No events to show</h3><p class="empty-state-text">Check back soon for upcoming shows and performances.</p></div>';
      return;
    }

    list.innerHTML = filtered.map(function(e) {
      var d = new Date(e.date);
      var day = d.getDate();
      var month = months[d.getMonth()];
      var year = d.getFullYear();
      var isPast = getEventFilter(e) === 'past';

      return '<div class="event-card' + (isPast ? ' event-past' : '') + '">' +
        '<div class="event-card-date">' +
          '<span class="event-date-month">' + month + '</span>' +
          '<span class="event-date-day">' + day + '</span>' +
          '<span class="event-date-year">' + year + '</span>' +
        '</div>' +
        '<div class="event-card-details">' +
          '<h3 class="event-card-title">' + e.title + '</h3>' +
          '<div class="event-card-meta">' +
            '<span><i class="fa-solid fa-location-dot"></i> ' + (e.venue || '') + (e.location ? ', ' + e.location : '') + '</span>' +
            (e.time ? '<span><i class="fa-solid fa-clock"></i> ' + e.time + '</span>' : '') +
          '</div>' +
          '<p class="event-card-desc">' + (e.description || '') + '</p>' +
        '</div>' +
        '<div class="event-card-actions">' +
          (isPast ? '<span class="badge badge-gray">Past Event</span>' :
            '<a href="#ent-contact" class="btn btn-primary btn-sm"><i class="fa-solid fa-ticket"></i> Get Tickets</a>') +
        '</div>' +
      '</div>';
    }).join('');
  }

  // Initial render
  renderEvents('all');

  // Filter tabs
  document.querySelectorAll('.event-filters .tab').forEach(function(tab) {
    tab.addEventListener('click', function() {
      document.querySelectorAll('.event-filters .tab').forEach(function(t) { t.classList.remove('active'); });
      tab.classList.add('active');
      renderEvents(tab.getAttribute('data-filter'));
    });
  });
})();
</script>
